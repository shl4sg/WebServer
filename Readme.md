# WebServer
本项目是一个轻量级web服务器，使用c/c++编写。

主要技术:使用线程池实现http并发处理，使用有限状态机实现http报文解析，使用mutex锁等实现线程间的同步，使用基于信号机制的定时器，使用epoll实现io多路复用，使用模拟proactor模式实现服务器事务处理框架，使用异步日志系统处理日志。

技术细节:

一、io：使用writev集中写，讲分别处理的http报文头和报文内容一并写入fd。使用mmap将客户端请求的文件打开并映射到虚拟内存。

二、服务器框架
模拟proactor模式，proactor使用异步io读写，通过内核完成io，工作线程处理请求。reactor模式使用工作线程完成io及请求处理。本项目使用模拟proactor模式，使用主线程完成io，工作线程处理请求。

三、io复用

主线程使用epoll监听事件并调度线程，epoll可设置ET或LT模式。

四、信号

基于信号机制实现定时器。定时器使用升序链表存储定时事件。

五、线程同步

使用了三种线程同步机制：mutex互斥锁、信号量、条件变量。

六、多线程

使用了半同步、半反应堆模式。所有工作线程睡眠在请求队列上，当有任务时，依次唤醒空闲的工作线程。

七、http解析

使用有限状态机解析http报文。

